<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta name="author" content="shubhamrindhe" id="author"/>
	<link rel="stylesheet" href="stylesheets/terminal.css" type="text/css" />
	
	<script type='text/javascript' src='scripts/drager.js'></script>
	<script type='text/javascript' src='scripts/api.github.js'></script>
	<script type='text/javascript' src='scripts/terminalscript.js'></script>
	<script type='text/javascript' src='scripts/AJAX.js'></script>
	<script type='text/javascript' src='scripts/regex.js'></script>
	
    <title>Terminal</title>
</head>

<body>
    
	
	
	<input type='checkbox' id='cmd8' checked='checked'/>
		<label for='cmd8' class='blockLabel' id="lbl"></label>
		<div class='codeBlock' id='lol1d'>
		gello
	</div>
	
	
	
	
	<div id="terminalIcon" onclick="toggleTerminal()">
		<span class="centroid" >&nbsp;><span class="blink">_</span>&nbsp;</span>
	</div>
	
	<span id="terminal">
		<header id="terminalDrager">
			<span class="centroid">Terminal</span>
			<span id="closeTerminal" onclick="closeTerminal()"><span class="centroid">X</span></span>
		</header>
		<nav id='nav' >
			<ul>
				<li><a href='#' onclick="document.getElementById('commandHistory').innerHTML = '';">Clear</a></li>
				<li><a href='#' style="float:right;!important">-</a></li>
				<li id="gethelp"><a href='#'>Get Help?</a></li>
			</ul>
		</nav>
		<div class="terminalBody" onclick="document.getElementById('command').focus();return false;">
			<pre id="ascii-art" class="centroid-fixed" style="display:block;line-height:5px; font-size:5px; font-weight:900;white-space:pre;font-family: monospace;color: lightblue; background: black;"></pre>
		
			<div class="centroid" style="position:fixed;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:-50;">
			</div>
			
			<pre id="commandHistory" style="margin:0;"></pre>
			
			<div id="commandPtr" style="z-index:5;display:inline-block;height:30px;width:50px;">
				<span class="centroid-rel" style="">&nbsp;><span class="blink"style="color:lightgreen;">_</span>&nbsp;</span>
			</div>
			<input type='text' type="text" id="command" spellcheck="false" onkeydown='' style="font-family:Courier New;height:30px;margin:0;"/>	
		</div>
		
		
		
		
		
		
		
	</span>


	
	
	<span>
	
	<input type='checkbox' id='lol' checked='checked'/>
	<label for='lol'class='blockLabel'></label>
	<div class='codeBlock' id='lold'>
	gello
	</div>
	
	
	</span>
	
	
	
	
			
	
	
	
	
    <script>
	function closeTerminal(){
		document.getElementById('terminal').style.display = 'none';
		document.getElementById('commandHistory').innerHTML = "";
	}
	function toggleTerminal(){
		document.getElementById('terminal').style.display = 'block';
	}
	
	
	
	onkeydown = function(e){
		//alert(e.keyCode);
		switch(e.keyCode){
			case 13:
				
				break;
				
        }
	}
	onkeyup = function(){
	
	}
	
	function bash(e){
		switch(e.keyCode){
				
        }
	}
	
	document.getElementById('command').onkeydown = function(e){
		switch(e.keyCode){
		
			case 13:
				var command = document.getElementById('command').value;
				var output;
				
				
				if(command.length!=0){
					document.getElementById('commandHistory').innerHTML += ""+command+"";
					document.getElementById('command').value = '';
				}
				
				if(command.indexOf(" ")!=-1){
					const command_tokens = command.split(" ");
					output = handle_composite_command(command_tokens);
				}else{
					if(predefined_cmds[command]!=undefined){
						output = predefined_cmds[command]();
					}else{
						output = handle_command(command);
					}
				}
				console.log(output);
				
				document.getElementById('commandHistory').innerHTML += (output!=null || output!=undefined) ? output+"\n" : '\n' ;
				
				break;
				
			case 38:
				var history = document.getElementById('commandHistory').innerHTML.split('\n');
				
				var index = history.indexOf(document.getElementById('command').value);
				--index;
				if(index < 0){
					index = history.length-2;
				}
				
				document.getElementById('command').value = history[index];
				
				break;
		
		}
		//console.log(e.keyCode);
	
		
		
		//bash(e);
	}
	/*
	function handle_command(res){
		document.getElementById('commandHistory').innerHTML += "<span style='color:red;'>"+res+"</span>\n";
	}
	*/

	
    </script>
	
	
<script>
	dragElement(document.getElementById(("terminal")),"Drager");		
	onload = function(e){
		//request('./assets/ascii-arts/kali_linux',function(res){console.log(res);document.getElementById('ascii-art').innerHTML = '<span>'+res+'</span>';});
	}
	document.getElementById(("lbl")).onclick = function(){
		//alert();
	}
	/*
	document.getElementById(("cmd4")).onchange = function(){
		alert();
	}
	*/
	
	
</script>
</body>
</html>
