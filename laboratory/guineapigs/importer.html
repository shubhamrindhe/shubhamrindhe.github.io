<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
	<meta name="author" content="shubhamrindhe" id="author" />
	<title>Importer</title>
</head>

<body>
	<button id="TEST">TEST</button>

	<script type="module">
		import Importer from '/$/importer.js'

		let importerD = new Importer('cerebral-');
		let importerA = new Importer('cerebral-');

		importerD.import({
			ajax: (e) => { console.log(e); },
			matrix: (e) => { console.log(e); },
			savior: (e) => { console.log(e); },
			activation: (e) => { console.log(e); },
			perceptron: (e) => { console.log(e); },
			matrix: (e) => { console.log(e); },
			fnn: (e) => { console.log(e); }
		}, (x) => {
			console.log(x);
			const { ajax, fnn: { default: MultilayerPerceptron }, matrix: { default: Matrix } } = x;
			console.log(ajax, MultilayerPerceptron, Matrix);
			// alert();
		});

		let d = new Date();
		importerA.import([
			'ajax',
			'matrix',
			'savior',
			'activation',
			'perceptron',
			'matrix',
			'fnn'
		], (x) => {
			console.log(x, new Date() - d);
			const { ajax, fnn: { default: MultilayerPerceptron }, matrix: { default: Matrix } } = x;
			console.log(ajax, MultilayerPerceptron, Matrix);
			// alert();
		});


		// const modulePaths = {
		// 	vector: "/sourcecode/vector.js",
		// 	renderer: "/sourcecode/renderer.js",
		// 	grapher: "/sourcecode/grapher.js",
		// 	drawable: "/sourcecode/drawable.js",
		// 	loopEngine: "/sourcecode/LoopEngine.js",
		// 	utils: "/sourcecode/utils.js"
		// };

		let realmImporter = new Importer('realm');
		realmImporter.import([
			'vector',
			'renderer',
			'grapher',
			'drawable',
			'loopEngine',
			'utils'
		], (x) => {
			console.log(x, new Date() - d);
			// const { ajax, fnn: { default: MultilayerPerceptron }, matrix: { default: Matrix } } = x;
			// console.log(ajax, MultilayerPerceptron, Matrix);
			// alert();
		});


		// document.getElementById('TEST').onclick = async (_) => {
		// 	let __ = new Date();

		// 	// let realmImporter = new Importer('realm');
		// 	// let x = await srealmImporter.import([
		// 	// 	'vector',
		// 	// 	'renderer',
		// 	// 	'grapher',
		// 	// 	'drawable',
		// 	// 	'loopEngine',
		// 	// 	'utils'
		// 	// ], (x) => {
		// 	// 	console.log(x, new Date() - __);
		// 	// });

		// 	let x = await import("./../../importer.js");
		// 	console.log('A', x, new Date() - __);
		// }

	</script>
</body>

</html>